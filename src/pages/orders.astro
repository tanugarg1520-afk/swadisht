---
import BaseLayout from "@/layouts/BaseLayout.astro";
import OrderDetails from "@/components/OrderDetails";
import { Search } from "lucide-react";
---

<BaseLayout
  title="My Orders - Swadisht"
  description="View your order history and track current orders from Swadisht."
>
  <div class="bg-accent/50 py-10">
    <div class="container">
      <h1 class="text-3xl md:text-4xl font-bold font-display mb-4">My Orders</h1>
      <p class="text-muted-foreground max-w-2xl">
        Track your current orders and view your order history.
      </p>
    </div>
  </div>

  <div class="container py-8">
    <!-- Search & Filter -->
    <div class="mb-6 flex flex-col md:flex-row gap-4 justify-between">
      <div class="relative w-full max-w-md">
        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
          <Search class="h-5 w-5 text-muted-foreground" />
        </div>
        <input 
          type="text" 
          placeholder="Search orders..." 
          class="pl-10 pr-4 py-2 w-full border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-transparent"
        />
      </div>
      
      <div class="flex gap-2">
        <select class="px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50">
          <option value="all">All Orders</option>
          <option value="active">Active Orders</option>
          <option value="past">Past Orders</option>
        </select>
        
        <select class="px-3 py-2 border border-input rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50">
          <option value="newest">Newest First</option>
          <option value="oldest">Oldest First</option>
        </select>
      </div>
    </div>
    
    <!-- Active Orders -->
    <div class="mb-10">
      <h2 class="text-xl font-display font-semibold mb-4">Active Orders</h2>
      
      <div class="grid gap-6">
        <OrderDetails 
          client:load
          orderId="SW12345"
          orderDate="Sept 11, 2025 - 12:45 PM"
          status="on_the_way"
          items={[
            { id: "1", name: "Butter Chicken", quantity: 1, price: 260 },
            { id: "2", name: "Garlic Naan", quantity: 2, price: 40 },
            { id: "3", name: "Jeera Rice", quantity: 1, price: 120 }
          ]}
          totalAmount={460}
          restaurant={{
            id: "rest1",
            name: "Spice Garden",
            logo: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=150&h=150&auto=format&fit=crop&q=80",
            rating: 4.8,
            cuisine: "North Indian, Chinese",
            address: "Shop 12, Market Complex, Sector 12, New Delhi",
            contactNumber: "+919876543210"
          }}
          deliveryAddress="123 Main Street, Apartment 4B, Sector 15, New Delhi - 110001"
          estimatedDeliveryTime="1:15 PM"
        />
      </div>
    </div>
    
    <!-- Past Orders -->
    <div>
      <h2 class="text-xl font-display font-semibold mb-4">Past Orders</h2>
      
      <div class="grid gap-6">
        <OrderDetails 
          client:load
          orderId="SW12289"
          orderDate="Sept 10, 2025 - 7:30 PM"
          status="delivered"
          items={[
            { id: "1", name: "Paneer Tikka", quantity: 1, price: 180 },
            { id: "2", name: "Roti", quantity: 4, price: 20 },
            { id: "3", name: "Dal Makhani", quantity: 1, price: 150 }
          ]}
          totalAmount={410}
          restaurant={{
            id: "rest2",
            name: "Tandoor House",
            logo: "https://images.unsplash.com/photo-1514933651103-005eec06c04b?w=150&h=150&auto=format&fit=crop&q=80",
            rating: 4.6,
            cuisine: "Indian, Mughlai",
            address: "42 Food Street, Connaught Place, New Delhi",
            contactNumber: "+919876543211"
          }}
          deliveryAddress="123 Main Street, Apartment 4B, Sector 15, New Delhi - 110001"
        />
        
        <OrderDetails 
          client:load
          orderId="SW12102"
          orderDate="Sept 8, 2025 - 1:15 PM"
          status="delivered"
          items={[
            { id: "1", name: "Chicken Biryani", quantity: 2, price: 280 },
            { id: "2", name: "Raita", quantity: 1, price: 40 }
          ]}
          totalAmount={600}
          restaurant={{
            id: "rest3",
            name: "Biryani House",
            logo: "https://images.unsplash.com/photo-1589302168068-964664d93dc0?w=150&h=150&auto=format&fit=crop&q=80",
            rating: 4.7,
            cuisine: "Hyderabadi, Mughlai",
            address: "Shop 7, Food Court, City Mall, Sector 10, New Delhi",
            contactNumber: "+919876543212"
          }}
          deliveryAddress="123 Main Street, Apartment 4B, Sector 15, New Delhi - 110001"
        />
      </div>
    </div>
  </div>
</BaseLayout>